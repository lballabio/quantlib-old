
class Fixing : public Event {
  private:
    boost::shared_ptr<FloatingRateCoupon> coupon_;
  public:
    ... // constructor
    Date date() const { return coupon_->fixingDate(); }
    boost::shared_ptr<FloatingRateCoupon> coupon() const;
};


class Instrument {
  public:
    ...
    std::list<boost::shared_ptr<Event> > events(const Date&) const;
};



======= TODO ===============

---
GENERAL
- restore floating exception in test-suite
- introduce type QuantLib::Money
- wiki documentation
- automated build system
- adopt boost::date
- use boost property map in OH
- have VBA code in text files

---
NANDO
- EvolutionDescription equality
- ref market data set for test suite
- evaluation date observers
- handle incomplete Reuters menu
- check beta2Y sensitivity
- handle already loaded addin
- special handling of reuters/bloomberg addins
- use Handle in SwaptionVolCubeChecks
- manage auto-open macro problem -> propose:
  Application.EnableEvents=True in qlxl.xla/ThisWorkbook
- TS time interface
- recreating object quotes...
- Higham covariance bug + review rank reduction
- create relinkableHandle, then in ControlPanel only use linkTo
- Instruments subfolder
- null strike -> atm strike
- vol term structure refactoring
- joint calendar
- mkt convention struct
- YCDemo crash
- alternative calibrations with null rho
- make BlackCalculator observer/observable, make it lazy
- Risk, Wilmott papers (REMIND: VERIFICARE COPIE DISPERSE)
- period algebra
- review dei seguenti workbooks: YC_SwapDemo.xls, IndexMethodsEnumOrObj.xls
- refactor abcd vol file, adding more unary_functions for blackVol and
  covariance
- implement abcdinterpolation

---
K
over 3 days:
test & bug fix	50%
SA		33%
cap stripping	17%

** sottolineare aggiornamento di news.txt
** Calibrations: UpperBoundary calculation -> root not bracketed
** Rt Update
STAND-BY
- Citrix access
    -> $+ 	ok
    -> INFL 	ok
    -> BGM 	manca (2a) utenza di accesso
    -> CW 	richiesto link
- Rt destination cell (done)
- coveredWarrants.xls (done)
	- checked prices vs Mx
- Sensitivity Analysis: (1d/5w)
	applied to cms book
	create new .xls with NPVs of 4 cms books (done)
	test newly released version
- foglio di Clerici per contribuire le cap forw/forw vol su Mx (1.5d/5d)
	confronto forw/forw vols foglio clerici vs nostro cap stripper (0.5d/1.5d)
	sostituzione di tutte le funzioni vba con ql()
	scarico del campo hist_close da Reuters -> usato solo per controllo/supporto
	opzione uso AllQuotes vs OTM Only
	parallel shift from straddle prices +
	linear interp sulle expiry times calcolate sull'eval date
		-> aggiustamento dei param di calibr
	opzione per interp vol vs interp params
	pricing degli straddle su futures options
	modello di correlazione per costruire le 6m vol dalle 3m vol
	cubic spline interp per ogni strike sulla matrice estesa delle 6M
	abcd adjustment della matrice delle forw/forw vol
	contribuzione su Mx delle 1m, 3m, 6m, 1y
- market models:
	implement longTermCorr+beta+gamma correlation structure (?)
	abcd for displaced vols (Chiara, Cristina, K) (?)
- 3M cap stripper: 	(0/3w)
	review triggers in wkbs (0.5D/0.5D done)
	overview: focus on smile sections
	sensitivity to market data
	gestione manuale ordinaria (con Clerici)
	prendere possesso foglio Clerici
	reintroduzione in 6M cap stripper
	test wbk: abcd fit
  	atm backbone: CapStripper3MTestSmoothness.xls
- 6M cap stripper: (1.5D/1w)
	atm backbone: CapStripper6MTestSmoothness.xls (0.5D/0.5D done)
	testa la smoothness della dorsale ATM con l'interpolazione lineare
	(0.5D/0.5D done)
	CapStripper6MTestRepricing.xls: aggiungi (0.5D/0.5D done)
	decidere se usare le interpolated vols da usare nel cap stripper
- bug in function SetRealTime() -> Rt seems not to switch settings
- migliora la macro "Copy Values" in SingleMeanReversion.xls
- rimuovere Singleton and set YTS to Euribor
- manual feeds: CalibrationParametersFeed partially updated to live/overwrite
  logic

---
CRISTINA
- sensitivity analysis (3.5D/1M)
- calibrazioni quotidiane sul tronco
- testing that the manual procedure to set back/forward the evaluation
  date returns the same results of the automatic procedure (0D/1D)
- complete class digital coupon (3D/1D)
  - management of payoff with equal sign included (1.5D/1D - DONE)
  - add the possibility of sub/over replication   (0.5D/1D - DONE)
  - split optionRate() method in callOptionRate() and
    putOptionRate()                               (0.5D/0.5D - DONE)
  - change signatures in DigitalCoupon constructor and in
    DigitalLeg methods (from QL to QLXL)          (0.5D/0.5D - DONE)
- digital coupon in call spread, add unit test
  (check replication and option value vs Black formula,
  check call-put parity, check replication type)  (2.5D/2.5D - DONE)
- create the digital leg and export it to QLXL    (2D/0.5D - DONE)
- create a draft worksheet to price digital legs  (0.5D/0.5D - DONE)
- change class CappedFlooredIborCoupon in order to add the
  possibility of adding/subracting call and put   (0D/2D)
- CMS calibration tests (Cristina and K)          (1D/1D - DONE)
- EOD valuation: completare analisi dei nuovi deal (0.5D/0.5D - DONE)
- debug qlCmsZeroLeg                               (0.5D/0.5D - DONE)
- new management of additional cashflows in Irs Cms book (1D/1D - DONE)
- Cap Cms Book:
  - pricing of Cms Cap without decomposition in Excel (To be discussed)
  - new management of additional cashflows in Cap Cms book (0D/1D - STAND-BY)
- install VS in new pc (0D/1D)
- market models: abcd for displaced vols (Chiara, Cristina, K)
- fixing days in cashflow analisys (FIXED)
- check Citrix access: $+,INFL,BGM (DONE)

---
CHIARA
- check access to  Citrix access to: $+,INFL,BGM (OK) (Done)
- add and validate new bonds in all the environments (1d|1d|Done)
- debug cmsratebond constructor for cms bond paying once in arrears (e.g. IT0003650998.pdf) (0d|1d)
- review and correct trader's bond monitor (0d|1d)
 *prospectus added in Drafts
- verify bond in Testing and Trunk (with Cristina) (Done)
- current cpn as a method of bond (a trader's request) (1.0d|1.5dd|Done)
 *created qlCurrentCoupon
 *add test in the testsuite in assetswap.cpp
 *quick test againts BBG's values
- IFR fixing calendar problem (Done)
 *see email dated 18th May
- Z-spread function, for zero coupon bond valuation (3.0d|10dd|WIP)
 *lehman's documentation
 *created new workbook to replicate market practice (YAF, YAS on BBG) use of
  z-spread
 *created qlBondCleanPriceFromZSpread()
 *double check against YAF, YAS on BBG
 *add test in test suite
- cds options (with Giorgio) (1.5d-30dd|WIP)
 *analysis of the trader's workbook
 *verified correct installation of Launcher, access given to the trader to the 3 different environments on the network
- markedata\BloombergFeed (Maurizio Pietrini)
 *reviewed all the worksheets regarding market data feed and timeseries with
  Maurizio (0.5d|0.5d|Done)
 *waiting for BBG worksheets from Maurizion (time to start 2/3 weeks- time to
  complete 1/2 weeks)
- MainChecks.xls (0.5d|0.5d|Done)
 *add checks for load bonds action
- zspread/yield inversion
- zerospreadedtermstructure: daycounter bug
- with Giorgio: training on Bonds' Workbooks
- bonds' workbooks integration with K+/Gatemate
- Digital Bond contructor
- Multicallable bond constructor
- review bond equivalent fo Reverse FRN
- implement alternative version of bond instrument which should accept a leg
  object
- fare tutti i metodi dei bond restituiscano un InterestRate
- i ThMethod perche' non accettano anche loro una Date settlementDate = Date()?
- market models: abcd for displaced vols (Chiara, Cristina, K)

---
FRANCOIS
- check Citrix access: $+,INFL,BGM
- XML/ serialization presentation
D launcher cms calibration check-box
D add atmRate to SmileSection base class (.5D/.5D)
D testMultiStepCoterminalSwapsAndSwaptions failure (.5D/.5D)
D serialization of market data (.5D/.5D)
D Levenberg Marquardt bug (0.5D/0.5D)
D investigate "root not bracketed" error message in cms calibration as in
  (0.5D/0.5D) X:\Offices\Financial Engineering\Derivatives Modelling\Projects\QuantLib\CMS\MarketDataHistory\WorkbooksQl_FailRootBracketedNewtonSolver.zip
D OH Wizard review: vector input, change in XML file structure to implement
  default values (0.5D/0.5D)
D MM: different correlation structures (Rapisarda, Schoenmakers and
  Coffey)(5.5D/2D-5D) (To be reviewed)
D integration framework refactoring (2D/2D)
- conundrum pricer optimization (1D/2D)
- notification chains pb (1D/3D)
- smile sections:
	D remove calibration from constructor(1H)
	- use Levenberg optimizator
	- move vol quotes from constructor(to be precised)
- add SABR interpolation to the capstripper(to be precised)
- refactor the method class (move Endcriteria as argument of the minimize)
  (done)
- OH Wizard performance issue when the control panel is left opened(to be
  precised)
- test abcd calibration (to be precised)
D consolidate all multisteps in a single test
- TO BE REVIEWED MultiStepSwaption
- check sabr fit stability/accuracy for smilesections (.5D)
- review workbooks: SmileSectionCaps.xls, SimpleQuote.xls, DerivedQuotes.xls,
  CapStripperTest3M.xls. (to be precised)

---

GIORGIO (last update 23/5/2007)
- bug fix: start up & menu action: Multi Index Calibration
- bug fix: start up action: bootstrap cap vols
- CDS options (with Chiara)
- illustrate projectedCostFunction to Ferdinando
- test Levenberg-Marquardt in abcd vol (0d/2d)
D spreaded caplet vol structure (2d/5d DONE)
- install VS in new pc (0d/1d)
- WIP ratchet Instrument C++ (shared with Marco) (3d/7d)
- WIP range accrual coupon (con relativi test) (18d/30d)
  - WIP create a workbook for range accrual under
    Workbooks\InterestRateDerivatives designing the workbook as done for CMS.xls


---
MARCO (last update 22/5/2007)
- verify set up svn folders (DONE)
- Citrix showdown: (0.5d/1d/WIP)
  - verifica licenze accesso: individuato referente, -> Katiuscia (DONE)
  - verifica accesso a $+ (DONE)
  - chiedere utenze BGM x tutti (WIP)
  - assistenza verifica accesso Quants (WIP)
- check optimizers:
  - fix steepest descent (with Francois) (1d/2d/WIP)
  - add more tests (multidimensional) in test suite (to be planned)
  - add Broyden-Fletcher-Goldfarb-Shanno algorithm (to be planned)
  - check export to excel and testing wkb (to be planned)
- MM: corr hist extimation (after 29/5/2007)
- pricing plain vanilla legs in BGM book (with Marco/Giorgio/Cristina)
  (0.0/2d/WAITING FOR DIGITAL OPTIONS)
- Risk, Wilmott papers (0.0/1d/WAITING for Ferdinando)
- Inflation project:
  - Attività UAT (0/2w)
  - Programmazione prossime attività (0/2w?)

========================

Eric
- SA
- serialization
- 2 DOF projects
- JRisk
- Launcher handling of Reuters/Bloomberg dlls
- minimize Launcher data download
- coerce from Frequency to Period
- coerce from Period->Date to double/int
- coerce from IMMcode to date
- imm functions (dates.xml) problems
- launcher addin dir ?
- remove quantlibxl-bin.nsi
- merge quantlibxl.nsi and quantlib-network.nsi
- in the nsi generalize the location of the xml files
- log defaults
- launcher issues
- oh.chm
- review native ohSplit on vector input to coerce from string to vector
- why the error message doesn't disappear as soon as the cell is not in error
  anymore
- ohConcatenate, ohRange1D, ohRange2D
- command (remove function SetEvaluationDate, etc?)
- watch on
- SA
- InterestRateQuoteFeed.xls: Auto_Open problem
- discount factors output is not col/row enabled
- esporre ad excel i metodi commentati in payoff.xml
- visitor pattern per 3rd parameter dei payoff
- RtUpdate like approach for effective Quote, in order to avoid setting the same
  quote
- Handle coercion to SwaptionVolDiscrete
- freeze, unfreeze objects


QuantLib
- Cashflows::iborSpread function
- clean up index fixing calendar
- cash rebate è multistep?
- aggiungere Forward all'enumeration Call/Put
- fix convertible faceamount bug
- deprecate swaptionvol time interface
- corregere OneAssetOption impliedVol
- SWAP implement fair rate for floating/fixed rate vector
- use boost random number generators
- Volatility assume a daycounter in the same way as rate (see InterestRate)
- ForwardSpreadedCurve con spread term structure
- throw first what in notifyobservers
- Instrument<Args>
- Inherit Exercise from Event?
- use strategy pattern for simulation termination criteria
- se possibile rispettare la misura ProductSuggested nel Composite

QuantLib RATEHELPERS
- earliest days dovrebbe tener conto dei fixing days

QuantLib PIECEWISEYIELDCURVE
- FRARateHelper deve avere dentro in FRA Instrument
- turn of year
- extended grid with all relevant dates
- revise bondhelpers
- bootstrap ForwardSpreadedYieldCurve

LUIGI
- debug vari crash in test suite per floating point exception
- risolvere Halley improvements
- InterpolatedYieldTermStructure<Discount,LogLinear>
- InterpolatedYieldTermStructure<Discount,LogLinear> constructor using an input
  discount grid
- InterpolatedYieldTermStructure<Discount,LogLinear>::gridDates()
- generic ForwardSpreadedYieldCurve (spread term structure)
- bootstrap ForwardSpreadedYieldCurve using its own ratehelpers and a base curve

QUANTLIBADDIN
- RSG factory
- export ImpliedCurve
- export PathGeneration
- SWAP GRID
- VANILLA SWAP signature
- export discount, loglinear selection
- use QL folder structure
- port old QuantLibXL functionalities

QUANTLIBXL WORKBOOKS
- nel ControlPanel dare evidenza dei feed: CMS
- Property example?
- SWAPTION spreadsheet with multiple prices
- all spreadsheets with grid prices
- merge old QuantLibXL functions
- more calendar drop down cell menu
- YYYYDDMM_HHMM timestamp in log file name doesn't work the second time
- file name cannot be changed without time

QUANTLIBXL VBA
